<?xml version="1.0" encoding="UTF-8" ?>

<odoo>
    <data>
        <record id="mail_activity_form_view" model="ir.ui.view">
            <field name="name">mail.activity.form.view</field>
            <field name="model">mail.activity</field>
            <field name="arch" type="xml">
                <form string="Activity Form" create="false" edit="1" delete="false">
                    <header>
                        <button type="object" class="btn btn-primary btn-sm oe_read_only" icon="fa-check"
                                name="action_activity_done" confirm="are you sure to done this activity?" string="Done" />
                    </header>
                    <sheet>
<!--                        <button name="open_origin" type="object" class="centre oe_link" nolabel="1">-->
                            <h1><field name="res_name"/></h1>
<!--                        </button>-->
                        <field name="activity_category" invisible="1"/>
                        <field name="res_model" invisible="1"/>
                        <field name="res_model_id" invisible="1"/>
                        <field name="res_id" invisible="1"/>
                         <group>
                                <group>
                                    <field name="activity_type_id" required="1" options="{'no_create': True, 'no_open': True}"/>
                                    <field name="create_user_id" readonly="1"/>
<!--                                    <field name="calendar_event_id" invisible="1"/>-->
                                    <field name="create_date" invisible="1"/>
                                </group>
                                <group>
                                    <field name="date_deadline" attrs="{'invisible': [('activity_category', '=', 'meeting')]}"/>
                                    <field name="user_id" options="{'no_open': True}"/>

                                </group>
                        </group>
                        <group>
                            <field name="summary" placeholder="e.g. Discuss proposal"/>
                            <field name="note" placeholder="Log a note..."/>
                        </group>
                    </sheet>
                     <div class="oe_chatter" style="display:block;">
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="mail_activity_form_view_action" model="ir.actions.act_window">
            <field name="name">Activities</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">mail.activity</field>
<!--            <field name="view_type">form</field>-->
            <field name="view_mode">form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="view_ids"
                       eval="[(5, 0, 0),
                              (0, 0, {'view_mode': 'form', 'view_id': ref('mail_activity_form_view')})]"/>
        </record>

         <menuitem id="my_activities_menuitem" name="Activities" action="my_activities_client_action"  sequence="-100" groups="base.group_user"/>

    </data>
</odoo>